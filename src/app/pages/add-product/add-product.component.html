<div class="row">
    <div class="col-12">
        <div class="card card-body">
            <h2 class="card-title">Agrega un producto nuevo</h2>
            <div class="row">
                <div class="col-sm-6 col-xs-6">
                    <form [formGroup]="saveProductForm" (submit)="guardarProducto()">
                        <div class="form-group">
                            <label for="nombre">Nombre del producto</label>
                            <input type="text" class="form-control" id="nombre" [ngClass]="{ 'is-invalid': invalidField('nombre'), 'is-valid': !invalidField('nombre') &&  formSubmitted === true }" placeholder="Introduce el nombre del producto" formControlName="nombre">
                            <div class="text-danger mt-2" *ngIf="invalidField('nombre')">

                                <p>{{ getErrorMessage("nombre") }}</p>

                            </div>
                        </div>
                        <div class="form-group">
                            <label for="descripcion">Descripción del producto</label>
                            <quill-editor class="txtContent" [modules]="modulesQuill" placeholder="Introduce la descripción del producto" formControlName="descripcion"></quill-editor>
                            <div class="text-danger mt-2" *ngIf="invalidField('descripcion')">

                                <p>{{ getErrorMessage("descripcion") }}</p>

                            </div>
                        </div>
                        <div class="form-group">
                            <label for="precio">Selecciona la categoria del producto</label>
                            <select class="custom-select select-size" [ngClass]="{ 'is-invalid': invalidField('categoria'), 'is-valid': !invalidField('categoria') &&  formSubmitted === true }" formControlName="categoria">
                                <option value="" disabled selected>-- Selecciona una opción --</option>
                                <option *ngFor="let result of allCategories" [ngValue]="result.category">
                                  {{ result.category }}
                                </option>
                            </select>
                            <div class="text-danger mt-2" *ngIf="invalidField('categoria')">

                                <p>{{ getErrorMessage("categoria") }}</p>

                            </div>
                        </div>
                        <div class="form-group">
                            <label for="precio">Precio del producto</label>
                            <input type="text" class="form-control" id="precio" [ngClass]="{ 'is-invalid': invalidField('precioNormal'), 'is-valid': !invalidField('precioNormal') &&  formSubmitted === true }" placeholder="Introduce el precio del producto" formControlName="precioNormal" prefix="$ " mask="separator.2"
                            thousandSeparator=",">
                            <div class="text-danger mt-2" *ngIf="invalidField('precioNormal')">

                                <p>{{ getErrorMessage("precioNormal") }}</p>

                            </div>
                        </div>
                        <div class="form-group">
                            <label for="precioReducido">Descuento</label>
                            <input type="text" class="form-control" id="precioReducido" [ngClass]="{ 'is-invalid': invalidField('precioReducido'), 'is-valid': !invalidField('precioReducido') &&  formSubmitted === true }" placeholder="Introduce el descuento del producto" 
                                formControlName="precioReducido" suffix="%" minlength="1" mask="00||0">
                            <div class="text-danger mt-2" *ngIf="invalidField('precioReducido')"> 

                                <p>{{ getErrorMessage("precioReducido") }}</p>

                            </div>
                        </div>
                        <div class="form-group">
                            <label for="stock">Stock</label>
                            <input type="text" class="form-control" id="stock" [ngClass]="{ 'is-invalid': invalidField('stock'), 'is-valid': !invalidField('stock') &&  formSubmitted === true }" placeholder="Introduce el stock disponible del producto" formControlName="stock" mask="0000||000||00||0">
                            <div class="text-danger mt-2" *ngIf="invalidField('stock')">

                                <p>{{ getErrorMessage("stock") }}</p>

                            </div>
                        </div>
                        <div class="form-group">
                            <label for="file-upload">Foto del producto</label>
                            <img *ngIf="!tempImg" src="../../../assets/images/big/no-img.png" class="form-control img-profile-page">
                            <img *ngIf="tempImg" [src]="tempImg" class="form-control img-profile-page">
                            <input (change)="newImageUpload($event)" class="form-control mt-2" id="file-upload" type="file" accept="image/*">
                            <div class="text-danger mt-2" *ngIf="!fotoCargada">

                                <p>Debes seleccionar una foto</p>

                            </div>
                            <div class="text-danger mt-2" *ngIf="!validImageExtension">
    
                                <p>La extensión de este archivo no está permitida, cargue un archivo con la 
                                    extensión jpg, jpeg, png.</p>

                            </div>
                            <div class="text-danger mt-2" *ngIf="!allowedFileSize">

                                <p>Este archivo no está permitido porque excede el tamaño permitido de 5 MB</p>

                            </div>
                        </div>
                        <button type="submit" class="btn btn-success m-r-10"><i class="fas fa-save"></i> Guardar Producto</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- row -->